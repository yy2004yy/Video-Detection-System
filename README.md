# Video Detection System (è™šå‡è§†é¢‘æ£€æµ‹ç³»ç»Ÿ)

> ğŸ“ æ¯•ä¸šè®¾è®¡é¡¹ç›®ï¼šåŸºäºå¤šæ¨¡æ€å¤§æ¨¡å‹çš„è™šå‡è¯´è¯äººè§†é¢‘æ£€æµ‹

## ğŸ“– é¡¹ç›®ç®€ä»‹
æœ¬é¡¹ç›®æ—¨åœ¨åˆ©ç”¨æ·±åº¦å­¦ä¹ æŠ€æœ¯ï¼ˆä¸»è¦åŸºäº CLIP ç­‰å¤šæ¨¡æ€å¤§æ¨¡å‹ï¼‰ï¼Œå¯¹è§†é¢‘å†…å®¹è¿›è¡Œåˆ†æï¼Œæ£€æµ‹å…¶ä¸­çš„æ·±åº¦ä¼ªé€ ï¼ˆDeepFakeï¼‰æˆåˆ†ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹è™šå‡è¯´è¯äººçš„è§†é¢‘è¿›è¡Œè¯†åˆ«ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
DeepFake_Project/
â”‚
â”œâ”€â”€ ğŸ“‚ configs/                 # [é…ç½®ä¸­å¿ƒ] å­˜æ”¾å„ç§å®éªŒçš„å‚æ•°è®¾ç½® (yamlæ–‡ä»¶)
â”‚   â”œâ”€â”€ clip_baseline.yaml      # ä¾‹å¦‚ï¼šåªç”¨ CLIP çš„é…ç½®
â”‚   â””â”€â”€ imagebind_fusion.yaml   # ä¾‹å¦‚ï¼šImageBind å¤šæ¨¡æ€èåˆçš„é…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ data/                    # [æ•°æ®ä¸­å¿ƒ] æ•°æ®åŠ è½½ä¸é¢„å¤„ç†ä»£ç 
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ dataset.py              # å®šä¹‰ PyTorch Dataset ç±» (è¯»å–è§†é¢‘/éŸ³é¢‘)
â”‚   â””â”€â”€ preprocess.py           # è§†é¢‘åˆ‡å¸§ã€éŸ³é¢‘æå–çš„è„šæœ¬
â”‚
â”œâ”€â”€ ğŸ“‚ models/                  # [æ¨¡å‹ä¸­å¿ƒ] æ ¸å¿ƒç½‘ç»œç»“æ„
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ backbones/              # å­˜æ”¾éª¨å¹²ç½‘ç»œ (ç‰¹å¾æå–å™¨)
â”‚   â”‚   â”œâ”€â”€ clip_encoder.py     # å°è£… CLIP
â”‚   â”‚   â””â”€â”€ imagebind_encoder.py# å°è£… ImageBind
â”‚   â””â”€â”€ detectors.py            # å®šä¹‰ä½ çš„æœ€ç»ˆæ£€æµ‹æ¨¡å‹ (æŠŠéª¨å¹²ç½‘å’Œåˆ†ç±»å¤´æ‹¼åœ¨ä¸€èµ·)
â”‚
â”œâ”€â”€ ğŸ“‚ utils/                   # [å·¥å…·ç®±] é€šç”¨å‡½æ•°
â”‚   â”œâ”€â”€ logger.py               # è®°å½•æ—¥å¿—
â”‚   â”œâ”€â”€ metrics.py              # è®¡ç®—å‡†ç¡®ç‡ã€AUCã€F1-score
â”‚   â””â”€â”€ tools.py                # è®¾ç½®éšæœºç§å­ã€ä¿å­˜æ¨¡å‹ç­‰
â”‚
â”œâ”€â”€ ğŸ“‚ checkpoints/             # [å­˜æ¡£ç‚¹] è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡ (è‡ªåŠ¨ä¿å­˜åˆ°è¿™é‡Œ)
â”œâ”€â”€ ğŸ“‚ logs/                    # [æ—¥å¿—] è®­ç»ƒè¿‡ç¨‹çš„è®°å½•æ–‡ä»¶
â”‚
â”œâ”€â”€ train.py                    # [ä¸»ç¨‹åº] è®­ç»ƒè„šæœ¬ (ä¸€é”®å¯åŠ¨è®­ç»ƒ)
â”œâ”€â”€ test.py                     # [ä¸»ç¨‹åº] æµ‹è¯•/è¯„ä¼°è„šæœ¬ (ç”Ÿæˆè®ºæ–‡æŒ‡æ ‡)
â”œâ”€â”€ inference.py                # [æ¼”ç¤ºç”¨] å•ä¸ªè§†é¢‘æ£€æµ‹è„šæœ¬ (ç»™å¯¼å¸ˆæ¼”ç¤ºç”¨)
â””â”€â”€ requirements.txt            # ç¯å¢ƒä¾èµ–åˆ—è¡¨
```

## ğŸ› ï¸ ç¯å¢ƒä¾èµ–
* **è¯­è¨€**: Python 3.x
* **æ¡†æ¶**: PyTorch >= 2.1.0
* **å…³é”®åº“**: Transformers, OpenCV, NumPy, PyYAML, scikit-learn

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/yy2004yy/Video-Detection-System.git
cd Video-Detection-System
```

### 2. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 3. è®­ç»ƒæ¨¡å‹
```bash
# ä½¿ç”¨CLIP baselineé…ç½®è®­ç»ƒ
python train.py --config configs/clip_baseline.yaml

# ä½¿ç”¨ImageBindèåˆé…ç½®è®­ç»ƒ
python train.py --config configs/imagebind_fusion.yaml

# æ¢å¤è®­ç»ƒ
python train.py --config configs/clip_baseline.yaml --resume checkpoints/checkpoint_epoch_10.pth
```

### 4. æµ‹è¯•æ¨¡å‹
```bash
python test.py --config configs/clip_baseline.yaml --checkpoint checkpoints/best_model.pth --output test_results.txt
```

### 5. å•è§†é¢‘æ¨ç†
```bash
python inference.py --config configs/clip_baseline.yaml --checkpoint checkpoints/best_model.pth --video path/to/video.mp4
```

## âš ï¸ å…³äºæ¨¡å‹æƒé‡ (Important)
ç”±äº GitHub æ–‡ä»¶å¤§å°é™åˆ¶ï¼Œå¤§æ¨¡å‹æƒé‡æ–‡ä»¶ï¼ˆå¦‚ CLIP é¢„è®­ç»ƒæ¨¡å‹ï¼‰æœªåŒ…å«åœ¨æ­¤ä»“åº“ä¸­ã€‚ è¯·åœ¨è¿è¡Œå‰ç¡®ä¿ï¼š

- æ¨¡å‹ä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨ä» HuggingFace ä¸‹è½½ï¼ˆå·²é…ç½®å›½å†…é•œåƒæºï¼‰
- æ¨¡å‹æƒé‡ä¼šè‡ªåŠ¨ç¼“å­˜åˆ° `models/clip/` æˆ– `models/imagebind/` ç›®å½•
- è®­ç»ƒå¥½çš„æ¨¡å‹æƒé‡ä¼šä¿å­˜åœ¨ `checkpoints/` ç›®å½•

## ğŸ“ ä½¿ç”¨è¯´æ˜

### é…ç½®è¯´æ˜
æ‰€æœ‰å®éªŒé…ç½®éƒ½åœ¨ `configs/` ç›®å½•ä¸‹çš„ YAML æ–‡ä»¶ä¸­ã€‚ä½ å¯ä»¥æ ¹æ®éœ€è¦ä¿®æ”¹ï¼š
- æ¨¡å‹å‚æ•°ï¼ˆbackboneç±»å‹ã€æ¨¡å‹åç§°ç­‰ï¼‰
- æ•°æ®å‚æ•°ï¼ˆå¸§æ•°ã€å›¾åƒå°ºå¯¸ç­‰ï¼‰
- è®­ç»ƒå‚æ•°ï¼ˆbatch sizeã€å­¦ä¹ ç‡ã€epochæ•°ç­‰ï¼‰
- è®¾å¤‡è®¾ç½®ï¼ˆGPU IDç­‰ï¼‰

### æ•°æ®å‡†å¤‡
åœ¨ä½¿ç”¨è®­ç»ƒè„šæœ¬å‰ï¼Œéœ€è¦ï¼š
1. å‡†å¤‡è§†é¢‘æ•°æ®é›†
2. åœ¨ `train.py` å’Œ `test.py` ä¸­é…ç½®æ•°æ®é›†è·¯å¾„ï¼ˆç›®å‰éœ€è¦æ‰‹åŠ¨ä¿®æ”¹ä»£ç ä¸­çš„æ•°æ®é›†åˆ›å»ºéƒ¨åˆ†ï¼‰

### æ—¥å¿—å’Œæ£€æŸ¥ç‚¹
- è®­ç»ƒæ—¥å¿—ä¿å­˜åœ¨ `logs/` ç›®å½•
- æ¨¡å‹æ£€æŸ¥ç‚¹ä¿å­˜åœ¨ `checkpoints/` ç›®å½•
- æœ€ä½³æ¨¡å‹ä¼šè‡ªåŠ¨ä¿å­˜ä¸º `checkpoints/best_model.pth`

## ğŸ“ å¾…åŠäº‹é¡¹ (To-Do)
- [x] é¡¹ç›®ç»“æ„é‡æ„
- [x] é…ç½®ç®¡ç†ç³»ç»Ÿ
- [x] æ•°æ®åŠ è½½æ¨¡å—
- [x] æ¨¡å‹æ¶æ„å®šä¹‰
- [x] è®­ç»ƒ/æµ‹è¯•/æ¨ç†è„šæœ¬
- [ ] å®Œå–„æ•°æ®é¢„å¤„ç†æ¨¡å—
- [ ] è·‘é€šåŸºå‡†æ¨¡å‹ (Baseline)
- [ ] ä¼˜åŒ–æ£€æµ‹å‡†ç¡®ç‡
